{% load static %}
<!-- Simplified Horizontal Navbar - Guaranteed Top Position -->
<header
    style="position: sticky; top: 0; z-index: 1000; width: 100%; display: block; background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%); box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);"
    x-data="{ mobileMenuOpen: false }">
    <div style="width: 100%; max-width: 100%; padding: 0.75rem 1rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: nowrap;">
            <!-- Logo/Brand -->
            <div style="flex-shrink: 0;">
                <a href="{% url 'home' %}"
                    style="font-size: 1.25rem; font-weight: 700; color: white; text-decoration: none;">
                    Hotel Management System
                </a>
            </div>

            <!-- Desktop Navigation -->
            <div style="display: none;" class="md:flex" style="align-items: center; gap: 0.25rem;">
                {% if user.is_authenticated %}
                <a href="{% url 'home' %}" class="nav-link" style="color: white; padding: 0.5rem 0

.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Home</a>

                {% if user.role == 'admin' %}
                <a href="{% url 'admin-dashboard' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Dashboard</a>
                <a href="/admin/" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Admin
                    Panel</a>
                <a href="{% url 'audit-log' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Audit
                    Logs</a>
                {% elif user.role == 'reception' %}
                <a href="{% url 'reception-dashboard' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Dashboard</a>
                <a href="{% url 'bookings:booking-management' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Bookings</a>
                <a href="{% url 'rooms:room-management' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Rooms</a>
                <a href="/api/payments/reception/" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Payments</a>
                {% else %}
                <a href="{% url 'guest-dashboard' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Dashboard</a>
                <a href="{% url 'bookings:guest-booking' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Book
                    Room</a>
                <a href="/api/bookings/guest/list/" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">My
                    Bookings</a>
                {% endif %}

                <a href="{% url 'profile' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Profile</a>

                <form method="post" action="{% url 'logout' %}" style="display: inline-block; margin: 0; padding: 0;">
                    {% csrf_token %}
                    <button type="submit" class="nav-link"
                        style="color: white; background: #c0392b; padding: 0.5rem 0.75rem; border-radius: 0.5rem; border: none; cursor: pointer; font-weight: 600; font-size: 0.875rem;">Logout</button>
                </form>
                {% else %}
                <a href="{% url 'login' %}" class="nav-link"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Login</a>
                <a href="{% url 'register' %}" class="nav-link"
                    style="color: white; background: #2980b9; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; font-size: 0.875rem;">Register</a>
                {% endif %}
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden" style="flex-shrink: 0;">
                <button @click="mobileMenuOpen = !mobileMenuOpen" type="button"
                    style="color: white; background: transparent; border: none; cursor: pointer; padding: 0.5rem;">
                    <svg x-show="!mobileMenuOpen" style="width: 1.5rem; height: 1.5rem;"
                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                    <svg x-show="mobileMenuOpen" style="width: 1.5rem; height: 1.5rem; display: none;"
                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" x-transition class="md:hidden"
            style="margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid rgba(255, 255, 255, 0.2); display: none;">
            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                {% if user.is_authenticated %}
                <a href="{% url 'home' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Home</a>

                {% if user.role == 'admin' %}
                <a href="{% url 'admin-dashboard' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Dashboard</a>
                <a href="/admin/"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Admin
                    Panel</a>
                <a href="{% url 'audit-log' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Audit
                    Logs</a>
                {% elif user.role == 'reception' %}
                <a href="{% url 'reception-dashboard' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Dashboard</a>
                <a href="{% url 'bookings:booking-management' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Manage
                    Bookings</a>
                <a href="{% url 'rooms:room-management' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Room
                    Management</a>
                <a href="/api/payments/reception/"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Process
                    Payments</a>
                {% else %}
                <a href="{% url 'guest-dashboard' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">My
                    Dashboard</a>
                <a href="{% url 'bookings:guest-booking' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Book
                    a Room</a>
                <a href="/api/bookings/guest/list/"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">My
                    Bookings</a>
                {% endif %}

                <a href="{% url 'profile' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Profile</a>

                <form method="post" action="{% url 'logout' %}" style="margin-top: 0.5rem;">
                    {% csrf_token %}
                    <button type="submit"
                        style="width: 100%; text-align: left; color: white; background: #c0392b; padding: 0.5rem 0.75rem; border-radius: 0.5rem; border: none; cursor: pointer; font-size: 0.875rem;">Logout</button>
                </form>
                {% else %}
                <a href="{% url 'login' %}"
                    style="color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Login</a>
                <a href="{% url 'register' %}"
                    style="color: white; background: #2980b9; padding: 0.5rem 0.75rem; border-radius: 0.5rem; text-decoration: none; font-size: 0.875rem;">Register</a>
                {% endif %}
            </div>
        </div>
    </div>
</header>